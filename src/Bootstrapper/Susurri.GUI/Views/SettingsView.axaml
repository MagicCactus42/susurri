<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Susurri.GUI.ViewModels"
             x:Class="Susurri.GUI.Views.SettingsView"
             x:DataType="vm:SettingsViewModel">

    <ScrollViewer>
        <StackPanel Spacing="24" MaxWidth="500">
            <!-- Header -->
            <StackPanel Spacing="4">
                <TextBlock Text="Settings"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="{StaticResource TextPrimaryBrush}" />
                <TextBlock Text="Configure your application preferences"
                           FontSize="14"
                           Foreground="{StaticResource TextMutedBrush}" />
            </StackPanel>

            <!-- Security Section -->
            <Border Classes="card">
                <StackPanel Spacing="16">
                    <TextBlock Text="Security"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" />

                    <!-- Cached Credentials Status -->
                    <StackPanel Spacing="8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Ellipse Width="8" Height="8"
                                     Fill="{StaticResource TextMutedBrush}" />
                            <TextBlock Text="Credentials Cache"
                                       FontSize="14"
                                       Foreground="{StaticResource TextSecondaryBrush}" />
                        </StackPanel>
                        <TextBlock FontSize="12"
                                   Foreground="{StaticResource TextMutedBrush}">
                            <TextBlock.IsVisible>
                                <Binding Path="AppState.CredentialsCached" />
                            </TextBlock.IsVisible>
                            <Run Text="Credentials are cached locally" />
                        </TextBlock>
                        <TextBlock Text="No credentials cached"
                                   FontSize="12"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   IsVisible="{Binding !AppState.CredentialsCached}" />
                    </StackPanel>

                    <Button Content="Clear Credentials Cache"
                            Command="{Binding ClearCacheCommand}"
                            Classes="secondary"
                            IsEnabled="{Binding AppState.CredentialsCached}" />
                </StackPanel>
            </Border>

            <!-- About Section -->
            <Border Classes="card">
                <StackPanel Spacing="12">
                    <TextBlock Text="About"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}" />

                    <StackPanel Spacing="8">
                        <StackPanel Orientation="Horizontal" Spacing="16">
                            <TextBlock Text="Version:"
                                       Width="80"
                                       Foreground="{StaticResource TextMutedBrush}" />
                            <TextBlock Text="1.0.0"
                                       Foreground="{StaticResource TextSecondaryBrush}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="16">
                            <TextBlock Text="Protocol:"
                                       Width="80"
                                       Foreground="{StaticResource TextMutedBrush}" />
                            <TextBlock Text="Kademlia DHT + Onion Routing"
                                       Foreground="{StaticResource TextSecondaryBrush}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="16">
                            <TextBlock Text="Encryption:"
                                       Width="80"
                                       Foreground="{StaticResource TextMutedBrush}" />
                            <TextBlock Text="X25519 + ChaCha20-Poly1305"
                                       Foreground="{StaticResource TextSecondaryBrush}" />
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Status -->
            <TextBlock Text="{Binding StatusMessage}"
                       FontSize="13"
                       Foreground="{StaticResource SuccessBrush}"
                       IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />
        </StackPanel>
    </ScrollViewer>
</UserControl>
